{"version":3,"file":"js/930.5fb0253f.js","mappings":"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","sources":["webpack://e-commerce/./src/utils/errorHandler.js","webpack://e-commerce/./src/components/LoadingComponent.vue","webpack://e-commerce/./src/components/LoadingComponent.vue?8b0c","webpack://e-commerce/./src/components/ShoppingCartIcon.vue","webpack://e-commerce/./src/components/ShoppingCartIcon.vue?65bf","webpack://e-commerce/./src/views/user/ProductPage.vue","webpack://e-commerce/./src/views/user/ProductPage.vue?cb7d"],"sourcesContent":["const errorCodes = {\n  updateOrderFailed: '更新失敗,請稍後再試',\n};\n\nexport default (alert, errorCode) => {\n  if (errorCodes[errorCode]) {\n    alert(errorCodes[errorCode]);\n  } else {\n    alert('sorry，目前服務不可用，請稍後再試或聯絡管理員。');\n  }\n};\n","<template>\n    <VLoading :active=\"isLoading\">\n        <img src=\"@/assets/images/loadingCat.gif\" alt=\"\">\n      </VLoading>\n</template>\n\n<script>\nexport default {\n  props: {\n    loading: {\n      type: Boolean,\n    },\n  },\n  data() {\n    return {\n      isLoading: false,\n    };\n  },\n  watch: {\n    loading() {\n      this.isLoading = this.loading;\n    },\n  },\n};\n</script>\n","import { render } from \"./LoadingComponent.vue?vue&type=template&id=78376e44\"\nimport script from \"./LoadingComponent.vue?vue&type=script&lang=js\"\nexport * from \"./LoadingComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Front End\\\\Vue\\\\e-commerce\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n    <router-link to=\"/user/cart\">\n        <i class=\"bi bi-cart-check icon position-relative text-info\">\n            <span class=\"position-absolute translate-middle\n        badge rounded-pill bg-danger\">\n                {{ shoppingCarts.length }}\n            </span>\n        </i>\n    </router-link>\n</template>\n\n<style scoped lang=\"scss\">\n    .icon {\n        font-size: 48px;\n         @media(min-width: 768px) {\n          font-size: 60px;\n        }\n    }\n    span {\n        top: 25%;\n        left: 90%;\n        font-size: 12px;\n    }\n</style>\n\n<script>\nimport errorHandler from '@/utils/errorHandler.js';\n\nexport default {\n  data() {\n    return {\n      shoppingCarts: [],\n    };\n  },\n  methods: {\n    async getShoppingCarts() {\n      try {\n        const getAllCartUrl = `${this.$apiUrl}/cart`;\n        const res = await this.$http.get(getAllCartUrl);\n        if (res.data.success) {\n          this.shoppingCarts = res.data.data.carts;\n        } else {\n          throw new Error('updateOrderFailed');\n        }\n      } catch (error) {\n        errorHandler(this.$alert, error.message);\n      }\n    },\n  },\n  async mounted() {\n    await this.getShoppingCarts();\n  },\n};\n</script>\n","import { render } from \"./ShoppingCartIcon.vue?vue&type=template&id=472e7572&scoped=true\"\nimport script from \"./ShoppingCartIcon.vue?vue&type=script&lang=js\"\nexport * from \"./ShoppingCartIcon.vue?vue&type=script&lang=js\"\n\nimport \"./ShoppingCartIcon.vue?vue&type=style&index=0&id=472e7572&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Front End\\\\Vue\\\\e-commerce\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-472e7572\"]])\n\nexport default __exports__","<template>\n<Loading :loading=\"isLoading\"></Loading>\n  <div class=\"row row-cols-1 row-cols-md-2 bg-white py-5 gy-5\">\n    <div class=\"col\">\n      <div id=\"carouselExampleIndicators\" class=\"carousel slide\" data-bs-ride=\"carousel\">\n        <div class=\"carousel-inner\">\n          <div class=\"carousel-item\" v-for=\"(img, key) in product.imagesUrl\"\n          :key=\"img\" :class=\"{active: active === key}\">\n            <img :src=\"img\" class=\"d-block\" alt=\"img\">\n          </div>\n        </div>\n        <button class=\"carousel-control-prev\" type=\"button\"\n          data-bs-target=\"#carouselExampleIndicators\" data-bs-slide=\"prev\">\n          <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n          <span class=\"visually-hidden\">Previous</span>\n        </button>\n        <button class=\"carousel-control-next\" type=\"button\"\n          data-bs-target=\"#carouselExampleIndicators\" data-bs-slide=\"next\">\n          <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n          <span class=\"visually-hidden\">Next</span>\n        </button>\n      </div>\n    </div>\n    <div class=\"col\">\n        <h3 class=\"text-center mb-5\">{{ product.title }}</h3>\n        <strong v-if=\"feature.length > 0\"><p>產品特色 : </p></strong>\n        <p v-for=\"item in feature\" :key=\"item\">{{ item }}</p>\n        <span class=\"text-dark text-decoration-line-through me-3\" v-if=\"discount !== 10\">\n          原價 : ${{ $filters.currency(product.origin_price) }}</span>\n        <span class=\"text-danger fw-bold fs-5 me-3\" v-if=\"discount !== 10\">\n          優惠 : ${{ $filters.currency(product.price) }}</span>\n        <span class=\"text-danger fw-bold fs-5 me-3\" v-else>\n          價格 : ${{ $filters.currency(product.price) }}</span>\n        <span class=\"badge rounded-pill bg-info fs-6\"\n        v-if=\"discount !== 10\">約{{ discount }}折</span>\n        <br>\n        <label for=\"amount\" class=\"d-flex align-items-center my-3\">數量:\n          <button class=\"ms-5 symbol\" :disabled=\"quantity === 1\" @click=\"count(-1)\">-</button>\n          <input id=\"amount\" class=\"text-center\" type=\"number\" v-model=\"quantity\">\n          <button class=\"symbol\" :disabled=\"quantity === 10\" @click=\"count(1)\">+</button>\n        </label>\n        <button type=\"button\" class=\"btn btn-outline-info\" @click=\"addProductToShoppingCart\">\n          <i class=\"bi bi-cart-plus me-2 fs-5\"></i>加入購物車</button>\n    </div>\n  </div>\n  <Cart class=\"position-fixed fixed\"></Cart>\n</template>\n\n<style scoped lang=\"scss\">\n    img {\n        max-width: 100%;\n        height: auto;\n        object-fit: cover;\n        object-position: center center;\n    }\n    h3,p {\n        color: #181b46;\n    }\n    input::-webkit-outer-spin-button,\n    input::-webkit-inner-spin-button {\n        -webkit-appearance: none;\n      }\n    input[type='number'] {\n        -moz-appearance: textfield;\n        width: 50px;\n        height: 32px;\n        border: 1px solid rgba(0,0,0,.09);\n      }\n    .symbol {\n      border: 1px solid rgba(0,0,0,.09);\n      background: #fff;\n      width: 32px;\n      height: 32px;\n    }\n    .fixed {\n      bottom: 20%;\n      right: 3%;\n    }\n</style>\n\n<script>\nimport errorHandler from '@/utils/errorHandler.js';\nimport Loading from '@/components/LoadingComponent.vue';\nimport Cart from '@/components/ShoppingCartIcon.vue';\n\nexport default {\n  data() {\n    return {\n      product: {},\n      id: '',\n      isLoading: false,\n      active: 0,\n      feature: [],\n      discount: null,\n      quantity: 1,\n    };\n  },\n  components: {\n    Loading,\n    Cart,\n  },\n  watch: {\n    product() {\n      if (this.product.content !== undefined) {\n        this.feature = this.product.content.split('\\n');\n      }\n      this.discount = (Math.round((this.product.price / this.product.origin_price) * 100)) / 10;\n    },\n    quantity() {\n      if (this.quantity < 1) {\n        this.quantity = 1;\n      } else if (this.quantity > 10) {\n        this.quantity = 10;\n      }\n    },\n  },\n  methods: {\n    async getProduct() {\n      try {\n        const getProductUrl = `${this.$apiUrl}/product/${this.id}`;\n        this.isLoading = true;\n        const res = await this.$http.get(getProductUrl);\n        if (res.data.success) {\n          this.product = res.data.product;\n        } else {\n          throw new Error('updateOrderFailed');\n        }\n      } catch (error) {\n        errorHandler(this.$alert, error.message);\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    count(num) {\n      this.quantity += num;\n    },\n    async addProductToShoppingCart() {\n      try {\n        const addProductToShoppingCartUrl = `${this.$apiUrl}/cart`;\n        const cart = {\n          product_id: this.product.id,\n          qty: this.quantity,\n        };\n        const res = await this.$http.post(addProductToShoppingCartUrl, { data: cart });\n        if (res.data.success) {\n          this.$alert('此產品已加入購物車');\n          setTimeout(() => {\n            this.$router.go(0);\n          }, 1000);\n        } else {\n          throw new Error('updateOrderFailed');\n        }\n      } catch (error) {\n        errorHandler(this.$alert, error.message);\n      }\n    },\n  },\n  async mounted() {\n    this.id = this.$route.params.productId;\n    await this.getProduct();\n  },\n};\n</script>\n","import { render } from \"./ProductPage.vue?vue&type=template&id=e81f0e60&scoped=true\"\nimport script from \"./ProductPage.vue?vue&type=script&lang=js\"\nexport * from \"./ProductPage.vue?vue&type=script&lang=js\"\n\nimport \"./ProductPage.vue?vue&type=style&index=0&id=e81f0e60&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Front End\\\\Vue\\\\e-commerce\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-e81f0e60\"]])\n\nexport default __exports__"],"names":["errorCodes","updateOrderFailed","alert","errorCode","_createElementVNode","src","_imports_0","alt","_createBlock","_component_VLoading","active","$data","_hoisted_1","props","loading","type","Boolean","data","isLoading","watch","this","__exports__","render","class","_component_router_link","to","_toDisplayString","length","shoppingCarts","methods","async","getAllCartUrl","$apiUrl","res","$http","get","success","Error","carts","error","errorHandler","$alert","message","getShoppingCarts","id","_hoisted_11","for","_hoisted_22","_createVNode","_component_Loading","_createElementBlock","_Fragment","_renderList","imagesUrl","img","key","_hoisted_6","title","_hoisted_10","_hoisted_12","item","_ctx","currency","origin_price","price","_hoisted_17","disabled","onClick","$options","_hoisted_20","$event","_hoisted_21","_component_Cart","product","feature","discount","quantity","components","Loading","Cart","undefined","content","split","Math","round","getProductUrl","count","num","addProductToShoppingCartUrl","cart","product_id","qty","post","setTimeout","$router","go","$route","params","productId","getProduct"],"sourceRoot":""}