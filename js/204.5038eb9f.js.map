{"version":3,"file":"js/204.5038eb9f.js","mappings":"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","sources":["webpack://e-commerce/./src/views/user/ShoppingCart.vue","webpack://e-commerce/./src/views/user/ShoppingCart.vue?72cd"],"sourcesContent":["<template>\n    <Loading :loading=\"isLoading\"></Loading>\n<div class=\"bg-white py-5\" v-if=\"shoppingCarts.total !== 0\">\n  <h3 class=\"m-2 m-md-5 text-warning\">\n    <i class=\"bi bi-box2-heart me-1\"></i>\n    購物車清單\n  </h3>\n  <div class=\"row justify-content-center mb-4 g-0\"\n  v-for=\"item in shoppingCarts.carts\" :key=\"item.id\">\n    <div class=\"col-4 col-lg-2\">\n      <img :src=\"item.product.imageUrl\" :alt=\"item.product.title\">\n    </div>\n    <div class=\"col-6 d-flex flex-column justify-content-between px-1 px-md-4 body\">\n      <div class=\"d-flex justify-content-between align-items-center m-0 p-0\">\n        <h4 class=\"mb-0\">{{ item.product.title }}</h4>\n        <button class=\"symbol fs-2 fw-bold delete\"\n          @click=\"openDelCartModal(item)\">\n          <i class=\"bi bi-x\"></i>\n        </button>\n      </div>\n      <div class=\"d-flex justify-content-between align-items-center\">\n        <label for=\"amount\" class=\"d-flex align-items-center\">\n          <button class=\"symbol\" @click=\"updateCart(item,-1)\">\n            <i class=\"bi bi-dash\"></i>\n          </button>\n          <input class=\"text-center amount\" type=\"number\" disabled\n          v-model=\"item.qty\">\n          <button class=\"symbol\" @click=\"updateCart(item,1)\">\n            <i class=\"bi bi-plus\"></i>\n          </button>\n      </label>\n      <strong class=\"text-nowrap text-warning\">$ {{ $filters.currency(item.final_total) }}</strong>\n      </div>\n    </div>\n  </div>\n  <div class=\"d-flex justify-content-end align-items-center mb-2 fs-3\">\n    <strong class=\"me-2 me-md-5 text-nowrap\">總計 :</strong>\n    <strong class=\"me-5 text-nowrap text-danger\"\n    v-if=\"shoppingCarts.total === shoppingCarts.final_total\">\n        $ {{ $filters.currency(shoppingCarts.total) }}</strong>\n    <strong class=\"fs-5 me-5 text-nowrap text-dark text-decoration-line-through\"\n    v-else>\n        $ {{ $filters.currency(shoppingCarts.total) }}</strong>\n  </div>\n  <div class=\"d-flex justify-content-end align-items-center fs-3\"\n  v-if=\"shoppingCarts.total !== shoppingCarts.final_total\">\n    <strong class=\"me-2 me-md-5 text-nowrap\">折扣價 :</strong>\n    <strong class=\"me-5 text-nowrap text-danger\">\n        $ {{ $filters.currency(shoppingCarts.final_total) }}</strong>\n  </div>\n    <div class=\"input-group my-4 input-group-sm d-flex justify-content-end pe-4\">\n      <label for=\"couponCode\">\n        <input type=\"text\" class=\"form-control couponCode\" placeholder=\"請輸入優惠碼\" v-model=\"code\">\n      </label>\n      <div class=\"input-group-append\">\n        <button class=\"btn btn-outline-info\" type=\"button\"\n        @click=\"applyCoupon\">\n          套用優惠碼\n        </button>\n      </div>\n    </div>\n    <h3 class=\"m-2 m-md-5\">猜你喜歡<i class=\"bi bi-heart ms-2 text-danger\"></i></h3>\n    <div class=\"row row-cols-2 row-cols-md-3 row-cols-xl-6 g-3 mb-5 mx-0 mx-md-4\">\n      <div class=\"col\" v-for=\"item in random\" :key=\"item.id\">\n        <div class=\"card h-100\">\n          <img class=\"card-img-top d-flex flex-column justify-content-between cartCard\"\n          :src=\"item.imageUrl\" :alt=\"item.title\">\n          <div class=\"card-body d-flex flex-column justify-content-between\">\n            <h5 class=\"card-title\">\n              <a href=\"#\" class=\"stretched-link style\"\n              @click.prevent=\"getProduct(item.id)\">{{ item.title }}\n              </a>\n            </h5>\n            <div class=\"card-text d-flex justify-content-between align-items-center\">\n            <span class=\"text-dark text-decoration-line-through\">\n              ${{ $filters.currency(item.origin_price) }}</span>\n            <span class=\"text-danger fw-bold\">\n              ${{ $filters.currency(item.price) }}</span>\n          </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"row justify-content-center\">\n      <v-form class=\"form-floating col-8 col-md-5\" v-slot=\"{ errors }\"\n      @submit=\"sendOrder\">\n        <div class=\"form-floating mb-3\">\n          <v-field type=\"email\" class=\"form-control\"\n          id=\"floatingInput\" placeholder=\"請輸入 Email\"\n          name=\"email\" rules=\"email|required\"\n          :class=\"{ 'is-invalid': errors['email'] }\"\n          v-model=\"form.user.email\"></v-field>\n         <!-- eslint-disable-next-line vuejs-accessibility/label-has-for -->\n          <label for=\"floatingInput\">Email</label>\n          <error-message class=\"invalid-feedback\" name=\"email\">\n          </error-message>\n        </div>\n\n        <div class=\"form-floating mb-3\">\n          <v-field type=\"text\" class=\"form-control\"\n          id=\"name\" placeholder=\"請輸入 姓名\"\n          name=\"姓名\" rules=\"required\"\n          :class=\"{ 'is-invalid': errors['姓名'] }\"\n          v-model=\"form.user.name\"></v-field>\n         <!-- eslint-disable-next-line vuejs-accessibility/label-has-for -->\n          <label for=\"name\">收件人姓名</label>\n          <error-message class=\"invalid-feedback\" name=\"姓名\">\n          </error-message>\n        </div>\n\n        <div class=\"form-floating mb-3\">\n          <v-field type=\"number\" class=\"form-control\"\n          id=\"tel\" placeholder=\"請輸入 電話\"\n          name=\"電話\" rules=\"min:10|required\"\n          :class=\"{ 'is-invalid': errors['電話'] }\"\n          v-model=\"form.user.tel\"></v-field>\n         <!-- eslint-disable-next-line vuejs-accessibility/label-has-for -->\n          <label for=\"tel\">收件人電話</label>\n          <error-message class=\"invalid-feedback\" name=\"電話\">\n          </error-message>\n        </div>\n\n        <div class=\"form-floating mb-3\">\n          <v-field type=\"text\" class=\"form-control\"\n          id=\"address\" placeholder=\"請輸入 地址\"\n          name=\"地址\" rules=\"required\"\n          :class=\"{ 'is-invalid': errors['地址'] }\"\n          v-model=\"form.user.address\"></v-field>\n         <!-- eslint-disable-next-line vuejs-accessibility/label-has-for -->\n          <label for=\"address\">收件人地址</label>\n          <error-message class=\"invalid-feedback\" name=\"地址\">\n          </error-message>\n        </div>\n\n        <div class=\"form-floating\">\n          <textarea class=\"form-control\" placeholder=\"留言\"\n          id=\"floatingTextarea\" v-model=\"form.message\"></textarea>\n           <!-- eslint-disable-next-line vuejs-accessibility/label-has-for -->\n           <label for=\"floatingTextarea\">留言</label>\n        <div class=\"mt-5\">\n          <div class=\"text-end\">\n            <button type=\"submit\" class=\"btn btn-outline-info\">送出訂單\n            </button>\n          </div>\n        </div>\n      </div>\n    </v-form>\n  </div>\n</div>\n\n<div class=\"bg-white py-5 d-flex flex-column justify-content-center align-items-center\" v-else>\n  <p class=\"fs-5\">你的購物車還是空的</p>\n    <router-link class=\"btn btn-outline-warning mb-4\" to=\"/user/list\">\n      去逛逛主子喜歡甚麼\n      <i class=\"bi bi-hearts\"></i>\n    </router-link>\n    <span>\n      <img class=\"cartCat\" src=\"@/assets/images/CartCat.jpg\" alt=\"cat\">\n    </span>\n</div>\n\n<DelModal :item=\"tempSoppingCart\" ref=\"delModal\" @del-item=\"delCart\"></DelModal>\n</template>\n\n<style scoped lang=\"scss\">\n  td {\n  vertical-align:middle;\n  }\n  img {\n        width: 100%;\n        height: 120px;\n        object-fit: cover;\n        object-position: center center;\n  }\n  input::-webkit-outer-spin-button,\n  input::-webkit-inner-spin-button {\n        -webkit-appearance: none;\n      }\n  .amount {\n        -moz-appearance: textfield;\n        width: 100%;\n        height: 32px;\n        border: none;\n        background-color: transparent;\n      }\n  .num {\n    flex: initial;\n    width: 50px;\n    @media(min-width: 576px) {\n        width: 90px;\n    }\n  }\n  .couponCode {\n    flex: initial;\n    width: 100%;\n  }\n  .body {\n    background-color: rgba(104, 216, 247, 0.1);\n    &:hover {\n      background-color: rgba(104, 216, 247, 0.2);\n    }\n  }\n  .card {\n    .style {\n      color: #181b46;\n      text-decoration:none;\n      &:hover {\n        color: #0dcaf0;\n      }\n    }\n    &:hover {\n      box-shadow: 5px 5px 6px #00000029;\n    }\n  }\n  .title {\n    width: 200px;\n    @media(min-width: 576px) {\n      width: 350px;\n    }\n    @media(min-width: 992px) {\n      width: 620px;\n    }\n  }\n  .cartCard {\n    height: 100px;\n    }\n  .cartCat {\n    max-width: 100%;\n    height: auto;\n  }\n  .symbol {\n    border: none;\n    background-color: transparent;\n    color: #181b46;\n    font-size: 16px;\n    &:hover {\n      color: #0dcaf0;\n    }\n    @media(min-width: 576px) {\n      font-size: 32px;\n    }\n  }\n  .delete:hover {\n    color: #dc3545;\n  }\n</style>\n\n<script>\nimport DelModal from '@/components/DelModal.vue';\nimport errorHandler from '@/utils/errorHandler.js';\nimport Loading from '@/components/LoadingComponent.vue';\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      shoppingCarts: {},\n      tempSoppingCart: {},\n      products: [],\n      random: [],\n      code: '',\n      form: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: '',\n        },\n        message: '',\n      },\n    };\n  },\n  components: {\n    DelModal,\n    Loading,\n  },\n  methods: {\n    async getShoppingCarts() {\n      try {\n        const getAllCartUrl = `${this.$apiUrl}/cart`;\n        this.isLoading = true;\n        const res = await this.$http.get(getAllCartUrl);\n        if (res.data.success) {\n          this.shoppingCarts = res.data.data;\n        } else {\n          throw new Error('updateOrderFailed');\n        }\n      } catch (error) {\n        errorHandler(this.$alert, error.message);\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    async getShoppingProducts() {\n      try {\n        const getAllProductUrl = `${this.$apiUrl}/products/all`;\n        this.isLoading = true;\n        const res = await this.$http.get(getAllProductUrl);\n        if (res.data.success) {\n          this.products = res.data.products;\n        } else {\n          throw new Error('updateOrderFailed');\n        }\n      } catch (error) {\n        errorHandler(this.$alert, error.message);\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    async updateCart(item, num) {\n      try {\n        const sum = item.qty + num;\n        if (sum < 1) {\n          await this.openDelCartModal(item);\n        } else if (sum > 10) {\n          this.$alert('同一商品最大購買數為10');\n        } else {\n          const updateCartUrl = `${this.$apiUrl}/cart/${item.id}`;\n          const cart = {\n            product_id: item.product_id,\n            qty: sum,\n          };\n          const res = await this.$http.put(updateCartUrl, { data: cart });\n          if (!res.data.success) {\n            throw new Error('updateOrderFailed');\n          }\n        }\n      } catch (error) {\n        errorHandler(this.$alert, error.message);\n      } finally {\n        await this.getShoppingCarts();\n      }\n    },\n    openDelCartModal(item) {\n      this.tempSoppingCart = { ...item.product };\n      this.tempSoppingCart.cartId = item.id;\n      const delComponent = this.$refs.delModal;\n      delComponent.showModal();\n    },\n    async delCart() {\n      try {\n        const deleteProductUrl = `${this.$apiUrl}/cart/${this.tempSoppingCart.cartId}`;\n        const res = await this.$http.delete(deleteProductUrl);\n        if (!res.data.success) {\n          throw new Error('updateOrderFailed');\n        }\n        await this.getShoppingCarts();\n      } catch (error) {\n        errorHandler(this.$alert, error.message);\n      } finally {\n        const delComponent = this.$refs.delModal;\n        delComponent.hideModal();\n      }\n    },\n    async applyCoupon() {\n      try {\n        if (!this.code) {\n          this.$alert('優惠券代碼不可為空白');\n          return;\n        }\n        const applyCouponUrl = `${this.$apiUrl}/coupon`;\n        const res = await this.$http.post(applyCouponUrl, { data: { code: this.code } });\n        if (res.data.success) {\n          this.code = '';\n          await this.getShoppingCarts();\n        } else {\n          throw new Error('updateOrderFailed');\n        }\n      } catch (error) {\n        errorHandler(this.$alert, error.message);\n      }\n    },\n    async sendOrder() {\n      try {\n        const api = `${this.$apiUrl}/order`;\n        const res = await this.$http.post(api, { data: this.form });\n        if (res.data.success) {\n          this.$router.push(`/user/checkout/${res.data.orderId}`);\n        } else {\n          throw new Error('updateOrderFailed');\n        }\n      } catch (error) {\n        errorHandler(this.$alert, error.message);\n      }\n    },\n    getRandom() {\n      const { carts } = this.shoppingCarts;\n      const filter = ['feed', 'canned', 'toy'];\n\n      for (let i = 0; i < carts.length; i += 1) {\n        const { category } = carts[i].product;\n        const categoryIndex = filter.indexOf(category);\n        if (categoryIndex !== -1) {\n          filter.splice(i, 1);\n        }\n        if (filter.length === 0) {\n          break;\n        }\n      }\n\n      for (let i = 0; i < filter.length; i += 1) {\n        const category = filter[i];\n        const filterResult = this.products.filter((e) => e.category === category);\n        for (let k = 0; k < 2; k += 1) {\n          const randomIndex = Math.floor(Math.random() * (filterResult.length));\n          this.random.push(filterResult[randomIndex]);\n          filterResult.splice(randomIndex, 1);\n        }\n      }\n\n      if (this.random.length < 6) {\n        for (let i = 0; this.random.length < 6; i += 1) {\n          const randomIndex = Math.floor(Math.random() * (this.products.length));\n          const product = this.products[randomIndex];\n          if (this.random.includes(product)) {\n            this.products.splice(randomIndex, 1);\n          } else {\n            this.random.push(product);\n            this.products.splice(randomIndex, 1);\n          }\n        }\n      }\n    },\n    getProduct(id) {\n      this.$router.push(`/user/product/${id}`);\n    },\n  },\n  async mounted() {\n    await Promise.all([\n      this.getShoppingCarts(),\n      this.getShoppingProducts(),\n    ]);\n    this.getRandom();\n  },\n};\n</script>\n","import { render } from \"./ShoppingCart.vue?vue&type=template&id=45d06b9a&scoped=true\"\nimport script from \"./ShoppingCart.vue?vue&type=script&lang=js\"\nexport * from \"./ShoppingCart.vue?vue&type=script&lang=js\"\n\nimport \"./ShoppingCart.vue?vue&type=style&index=0&id=45d06b9a&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Front End\\\\Vue\\\\e-commerce\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-45d06b9a\"]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_hoisted_9","for","_hoisted_14","_hoisted_18","type","src","_imports_0","alt","_createVNode","_component_Loading","loading","$data","total","_createElementBlock","_hoisted_2","_Fragment","_renderList","carts","item","key","id","product","imageUrl","title","_toDisplayString","onClick","$options","disabled","qty","$event","_ctx","currency","final_total","_hoisted_22","_hoisted_26","placeholder","_hoisted_31","href","_hoisted_37","origin_price","price","_component_v_form","onSubmit","errors","_component_v_field","name","rules","user","email","_hoisted_43","_component_error_message","_hoisted_45","tel","_hoisted_47","address","_hoisted_49","message","_hoisted_51","_hoisted_52","_hoisted_54","_component_router_link","to","_hoisted_57","_component_DelModal","ref","onDelItem","data","isLoading","shoppingCarts","tempSoppingCart","products","random","code","form","components","DelModal","Loading","methods","async","getAllCartUrl","this","$apiUrl","res","$http","get","success","Error","error","errorHandler","$alert","getAllProductUrl","num","sum","openDelCartModal","updateCartUrl","cart","product_id","put","getShoppingCarts","cartId","delComponent","$refs","delModal","showModal","deleteProductUrl","delete","hideModal","applyCouponUrl","post","api","$router","push","orderId","getRandom","filter","i","length","category","categoryIndex","indexOf","splice","filterResult","e","k","randomIndex","Math","floor","includes","getProduct","Promise","all","getShoppingProducts","__exports__","render"],"sourceRoot":""}