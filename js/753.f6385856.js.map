{"version":3,"file":"js/753.f6385856.js","mappings":"iHAAA,MAAMA,EAAa,CACjBC,kBAAmB,cAGrB,QAAgBC,EAAOC,KACjBH,EAAWG,GACbD,EAAMF,EAAWG,IAEjBD,EAAM,gC,sFCNFE,EAAAA,EAAAA,GAAiD,OAA5CC,IAAAC,EAAqCC,IAAI,IAA9C,S,uEADJC,EAAAA,EAAAA,IAEaC,EAAA,CAFFC,OAAQC,EAAAA,WAAS,C,kBACxB,IAAiD,CAAjDC,K,KADJ,cAMJ,OACEC,MAAO,CACLC,QAAS,CACPC,KAAMC,UAGVC,OACE,MAAO,CACLC,WAAW,IAGfC,MAAO,CACLL,UACEM,KAAKF,UAAYE,KAAKN,W,QCf5B,MAAMO,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,S,mKCLOC,MAAM,4G,GAEJA,MAAM,4B,UACTnB,EAAAA,EAAAA,GAGK,MAHDmB,MAAM,qBAAmB,EAC3BnB,EAAAA,EAAAA,GAAoC,KAAjCmB,MAAM,0BADkB,QACS,YADtC,K,UAIAnB,EAAAA,EAAAA,GAAyC,SAAtC,sCAAkC,K,UACrCA,EAAAA,EAAAA,GAA+C,SAA5C,4CAAwC,K,GACpCmB,MAAM,c,GAEDA,MAAM,Q,UACVnB,EAAAA,EAAAA,GAAc,UAAV,SAAK,K,UAITA,EAAAA,EAAAA,GAAW,UAAP,MAAE,K,UAINA,EAAAA,EAAAA,GAAc,UAAV,SAAK,K,UAITA,EAAAA,EAAAA,GAAc,UAAV,SAAK,K,GAMdmB,MAAM,4B,UACTnB,EAAAA,EAAAA,GAGK,MAHDmB,MAAM,qBAAmB,EAC3BnB,EAAAA,EAAAA,GAAwC,KAArCmB,MAAM,8BADkB,QACa,YAD1C,K,GAKOA,MAAM,S,aAGNA,MAAM,8D,GACJA,MAAM,qD,GACLA,MAAM,Q,GACFA,MAAM,e,GAEVA,MAAM,kB,GAGXA,MAAM,+D,UACTnB,EAAAA,EAAAA,GAAuC,UAA/BmB,MAAM,eAAc,MAAE,K,SACDA,MAAM,4B,SAGpBA,MAAM,2B,GAIlBA,MAAM,0D,UACTnB,EAAAA,EAAAA,GAAyC,UAAjCmB,MAAM,eAAc,QAAI,K,SACHA,MAAM,gB,SACpBA,MAAM,2B,GAElBA,MAAM,iB,0FA9DfC,EAAAA,EAAAA,IAAwCC,EAAA,CAA9BX,QAASH,EAAAA,WAAS,qBAC5BP,EAAAA,EAAAA,GAmEM,MAnEN,EAmEM,EAjEJA,EAAAA,EAAAA,GA2BM,MA3BN,EA2BM,CA1BJsB,EAIAC,EACAC,GACAxB,EAAAA,EAAAA,GAmBQ,QAnBR,EAmBQ,EAlBJA,EAAAA,EAAAA,GAiBQ,eAhBJA,EAAAA,EAAAA,GAGC,KAHD,EAGC,CAFDyB,GACAzB,EAAAA,EAAAA,GAA4C,YAAxCA,EAAAA,EAAAA,GAAmC,aAAA0B,EAAAA,EAAAA,IAA1BnB,EAAAA,MAAMoB,KAAKC,OAAK,QAEjC5B,EAAAA,EAAAA,GAGK,WAFD6B,GACA7B,EAAAA,EAAAA,GAA2C,YAAvCA,EAAAA,EAAAA,GAAkC,aAAA0B,EAAAA,EAAAA,IAAzBnB,EAAAA,MAAMoB,KAAKG,MAAI,QAEhC9B,EAAAA,EAAAA,GAGK,WAFD+B,GACA/B,EAAAA,EAAAA,GAA0C,YAAtCA,EAAAA,EAAAA,GAAiC,aAAA0B,EAAAA,EAAAA,IAAxBnB,EAAAA,MAAMoB,KAAKK,KAAG,QAE/BhC,EAAAA,EAAAA,GAGK,WAFDiC,GACAjC,EAAAA,EAAAA,GAA8C,YAA1CA,EAAAA,EAAAA,GAAqC,aAAA0B,EAAAA,EAAAA,IAA5BnB,EAAAA,MAAMoB,KAAKO,SAAO,cAKzClC,EAAAA,EAAAA,GAoCM,MApCN,EAoCM,CAnCJmC,IAmCI,aA/BJC,EAAAA,EAAAA,IAWMC,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAXmC/B,EAAAA,MAAMgC,UAAdC,K,WAAjCJ,EAAAA,EAAAA,IAWM,OAXDjB,MAAM,eAA+CsB,IAAKD,EAAKE,IAApE,EACE1C,EAAAA,EAAAA,GAEM,MAFN,EAEM,EADJA,EAAAA,EAAAA,GAA2D,OAArDC,IAAKuC,EAAKG,QAAQC,SAAUzC,IAAI,sBAAtC,aAEFH,EAAAA,EAAAA,GAMM,MANN,EAMM,EALJA,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFJA,EAAAA,EAAAA,GAA8C,KAA9C,GAA8C0B,EAAAA,EAAAA,IAA1Bc,EAAKG,QAAQE,OAAK,IACtC7C,EAAAA,EAAAA,GAAqD,SAArD,EAA4B,MAAE0B,EAAAA,EAAAA,IAAGc,EAAKM,KAAG,MAE3C9C,EAAAA,EAAAA,GAAiF,OAAjF,EAA6B,MAAE0B,EAAAA,EAAAA,IAAGqB,EAAAA,SAASC,SAASR,EAAKG,QAAQM,QAAK,UAT1E,OAYAjD,EAAAA,EAAAA,GAQM,MARN,EAQM,CAPJkD,EACc3C,EAAAA,MAAM4C,UAAAA,EAAAA,EAAAA,OAApBf,EAAAA,EAAAA,IAES,SAFT,EAA8D,OAC1DV,EAAAA,EAAAA,IAAGqB,EAAAA,SAASC,SAASzC,EAAAA,MAAM6C,QAAK,MADpC,WAGAhB,EAAAA,EAAAA,IAES,SAFT,EAA+C,OAC3CV,EAAAA,EAAAA,IAAGqB,EAAAA,SAASC,SAASzC,EAAAA,MAAM6C,QAAK,OAGtCpD,EAAAA,EAAAA,GAIM,MAJN,EAIM,CAHJqD,EACc9C,EAAAA,MAAM4C,UAAAA,EAAAA,EAAAA,OAApBf,EAAAA,EAAAA,IAA+D,SAA/D,EAAkD,WAAlD,WACAA,EAAAA,EAAAA,IAA4D,SAA5D,EAA+C,YAO7C,SALJpC,EAAAA,EAAAA,GAIM,MAJN,EAIM,EAHJA,EAAAA,EAAAA,GAES,UAFDW,KAAK,SAASQ,MAAM,uBAC3BmC,QAAK,oBAAEC,EAAAA,UAAAA,EAAAA,YAAAA,KAAU,UAFpB,aAAoChD,EAAAA,MAAM4C,gBA7D9C,I,gCAyFF,GACEtC,OACE,MAAO,CACL2C,MAAO,CACL7B,KAAM,IAER8B,QAAS,GACT3C,WAAW,IAGf4C,WAAY,CACVC,QAAAA,EAAAA,GAEFC,QAAS,CACPC,iBACE,IACE,MAAMC,EAAe,GAAE9C,KAAK+C,iBAAiB/C,KAAKyC,UAClDzC,KAAKF,WAAY,EACjB,MAAMkD,QAAYhD,KAAKiD,MAAMC,IAAIJ,GACjC,IAAIE,EAAInD,KAAKsD,QAGX,MAAM,IAAIC,MAAM,qBAFhBpD,KAAKwC,MAAQQ,EAAInD,KAAK2C,MAIxB,MAAOa,IACPC,EAAAA,EAAAA,GAAatD,KAAKuD,OAAQF,EAAMG,SAVlC,QAYExD,KAAKF,WAAY,IAGrB+C,iBACE,IACE,MAAMY,EAAe,GAAEzD,KAAK+C,eAAe/C,KAAKyC,UAC1CO,QAAYhD,KAAKiD,MAAMS,KAAKD,GAClC,IAAIT,EAAInD,KAAKsD,QAGX,MAAM,IAAIC,MAAM,2BAFVpD,KAAK2D,WAIb,MAAON,IACPC,EAAAA,EAAAA,GAAatD,KAAKuD,OAAQF,EAAMG,YAItCX,gBACE7C,KAAKyC,QAAUzC,KAAK4D,OAAOC,OAAOpB,cAC5BzC,KAAK2D,a,QClIf,MAAM1D,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,S","sources":["webpack://e-commerce/./src/utils/errorHandler.js","webpack://e-commerce/./src/components/LoadingComponent.vue","webpack://e-commerce/./src/components/LoadingComponent.vue?8b0c","webpack://e-commerce/./src/views/user/CheckoutView.vue","webpack://e-commerce/./src/views/user/CheckoutView.vue?c579"],"sourcesContent":["const errorCodes = {\n  updateOrderFailed: '更新失敗,請稍後再試',\n};\n\nexport default (alert, errorCode) => {\n  if (errorCodes[errorCode]) {\n    alert(errorCodes[errorCode]);\n  } else {\n    alert('sorry，目前服務不可用，請稍後再試或聯絡管理員。');\n  }\n};\n","<template>\n    <VLoading :active=\"isLoading\">\n        <img src=\"@/assets/images/loadingCat.gif\" alt=\"\">\n      </VLoading>\n</template>\n\n<script>\nexport default {\n  props: {\n    loading: {\n      type: Boolean,\n    },\n  },\n  data() {\n    return {\n      isLoading: false,\n    };\n  },\n  watch: {\n    loading() {\n      this.isLoading = this.loading;\n    },\n  },\n};\n</script>\n","import { render } from \"./LoadingComponent.vue?vue&type=template&id=78376e44\"\nimport script from \"./LoadingComponent.vue?vue&type=script&lang=js\"\nexport * from \"./LoadingComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Front End\\\\Vue\\\\e-commerce\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <Loading :loading=\"isLoading\"></Loading>\n  <div class=\"row flex-column flex-lg-row justify-content-center align-items-center\n  align-items-lg-start bg-white py-5\">\n    <div class=\"col-10 col-md-8 col-lg-5\">\n      <h3 class=\"text-warning mb-3\">\n        <i class=\"bi bi-card-checklist\"></i>\n        確認資料\n      </h3>\n      <p>感謝您訂購毛孩一家一商品，我們已收收訂單，確認付款後會立即準備出貨。</p>\n      <p>以下是您的個人資料，請詳細核對，如有誤造成無法至指定日送達，我們將不負任何責任。</p>\n      <table class=\"table mb-5\">\n          <tbody>\n              <tr class=\"mb-3\">\n              <th>Email</th>\n              <td><span>{{ order.user.email }}</span></td>\n          </tr>\n          <tr>\n              <th>姓名</th>\n              <td><span>{{ order.user.name }}</span></td>\n          </tr>\n          <tr>\n              <th>收件人電話</th>\n              <td><span>{{ order.user.tel }}</span></td>\n          </tr>\n          <tr>\n              <th>收件人地址</th>\n              <td><span>{{ order.user.address }}</span></td>\n          </tr>\n          </tbody>\n      </table>\n    </div>\n    <div class=\"col-10 col-md-8 col-lg-5\">\n      <h3 class=\"text-warning mb-3\">\n        <i class=\"bi bi-credit-card-2-back\"></i>\n        訂單資訊\n      </h3>\n      <div class=\"row mb-4 g-0\" v-for=\"item in order.products\" :key=\"item.id\">\n        <div class=\"col-4\">\n          <img :src=\"item.product.imageUrl\" alt=\"item.product.title\">\n        </div>\n        <div class=\"col-8 d-flex flex-column justify-content-between px-3 body\">\n          <div class=\"d-flex justify-content-between align-items-center\">\n            <h4 class=\"mb-0\">{{ item.product.title }}</h4>\n            <strong class=\"text-nowrap\">X {{ item.qty }}</strong>\n          </div>\n          <span class=\"align-self-end\">$ {{ $filters.currency(item.product.price) }}</span>\n        </div>\n      </div>\n      <div class=\"d-flex justify-content-between align-items-center fs-5 mb-2\">\n        <strong class=\"text-nowrap\">總計</strong>\n        <strong v-if=\"order.is_paid\" class=\"text-nowrap text-success\">\n          $ {{ $filters.currency(order.total) }}\n        </strong>\n        <strong v-else class=\"text-nowrap text-danger\">\n          $ {{ $filters.currency(order.total) }}\n        </strong>\n      </div>\n      <div class=\"d-flex justify-content-between align-items-center fs-5\">\n        <strong class=\"text-nowrap\">付款狀態</strong>\n        <strong v-if=\"order.is_paid\" class=\"text-success\">付款完成</strong>\n        <strong v-else class=\"text-danger text-nowrap\">尚未付款</strong>\n      </div>\n      <div class=\"text-end mt-5\" v-show=\"!order.is_paid\">\n        <button type=\"button\" class=\"btn btn-outline-info\"\n        @click=\"payOrder\">確認付款\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n  img {\n        width: 100%;\n        height: 100px;\n        object-fit: cover;\n        object-position: center center;\n  }\n  .body {\n    background-color: rgba(104, 216, 247, 0.1);\n    &:hover {\n      background-color: rgba(104, 216, 247, 0.2);\n    }\n  }\n</style>\n\n<script>\nimport errorHandler from '@/utils/errorHandler.js';\nimport Loading from '@/components/LoadingComponent.vue';\n\nexport default {\n  data() {\n    return {\n      order: {\n        user: {},\n      },\n      orderId: '',\n      isLoading: false,\n    };\n  },\n  components: {\n    Loading,\n  },\n  methods: {\n    async getOrder() {\n      try {\n        const getOrderUrl = `${this.$apiUrl}/order/${this.orderId}`;\n        this.isLoading = true;\n        const res = await this.$http.get(getOrderUrl);\n        if (res.data.success) {\n          this.order = res.data.order;\n        } else {\n          throw new Error('updateOrderFailed');\n        }\n      } catch (error) {\n        errorHandler(this.$alert, error.message);\n      } finally {\n        this.isLoading = false;\n      }\n    },\n    async payOrder() {\n      try {\n        const PayOrderUrl = `${this.$apiUrl}/pay/${this.orderId}`;\n        const res = await this.$http.post(PayOrderUrl);\n        if (res.data.success) {\n          await this.getOrder();\n        } else {\n          throw new Error('updateOrderFailed');\n        }\n      } catch (error) {\n        errorHandler(this.$alert, error.message);\n      }\n    },\n  },\n  async mounted() {\n    this.orderId = this.$route.params.orderId;\n    await this.getOrder();\n  },\n};\n</script>\n","import { render } from \"./CheckoutView.vue?vue&type=template&id=c37f5518&scoped=true\"\nimport script from \"./CheckoutView.vue?vue&type=script&lang=js\"\nexport * from \"./CheckoutView.vue?vue&type=script&lang=js\"\n\nimport \"./CheckoutView.vue?vue&type=style&index=0&id=c37f5518&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Front End\\\\Vue\\\\e-commerce\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c37f5518\"]])\n\nexport default __exports__"],"names":["errorCodes","updateOrderFailed","alert","errorCode","_createElementVNode","src","_imports_0","alt","_createBlock","_component_VLoading","active","$data","_hoisted_1","props","loading","type","Boolean","data","isLoading","watch","this","__exports__","render","class","_createVNode","_component_Loading","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_8","_toDisplayString","user","email","_hoisted_9","name","_hoisted_10","tel","_hoisted_11","address","_hoisted_13","_createElementBlock","_Fragment","_renderList","products","item","key","id","product","imageUrl","title","qty","_ctx","currency","price","_hoisted_22","is_paid","total","_hoisted_26","onClick","$options","order","orderId","components","Loading","methods","async","getOrderUrl","$apiUrl","res","$http","get","success","Error","error","errorHandler","$alert","message","PayOrderUrl","post","getOrder","$route","params"],"sourceRoot":""}