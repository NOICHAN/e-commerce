{"version":3,"file":"js/19.9ed3edc5.js","mappings":"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","sources":["webpack://e-commerce/./src/views/user/ShoppingList.vue","webpack://e-commerce/./src/views/user/ShoppingList.vue?fea0"],"sourcesContent":["<template>\n  <div class=\"row py-5 bg-white\">\n    <div class=\"col-sm-3 col-lg-2 mb-4\">\n      <div class=\"list-group fs-5\" v-for=\"item in type\" :key=\"item\">\n        <button class=\"list-group-item list-group-item-action\"\n        type=\"button\" :class=\"{active: active === item.engType}\"\n        @click=\"selectType(item.engType)\">{{ item.chtType }}</button>\n      </div>\n    </div>\n    <div class=\"col-sm-9 col-lg-10\">\n      <VLoading :active=\"isLoading\"></VLoading>\n        <select class=\"border-dark d-md-block rounded p-2 mb-4 ms-auto\"\n        v-model=\"selected\" @change=\"getSort\">\n            <option v-for=\"item in sort\" :key=\"item\" :value=\"item.engSort\">\n              {{ item.chtSort }}</option>\n        </select>\n  <div class=\"row row-cols-1 row-cols-md-2 row-cols-lg-3 g-3\">\n    <div class=\"col\" v-for=\"item in filterProducts\" :key=\"item.id\">\n      <div class=\"card h-100\">\n        <img :src=\"item.imageUrl\" class=\"card-img-top w-100\" :alt=\"item.title\">\n        <div class=\"card-body d-flex flex-column justify-content-between\">\n          <h3 class=\"card-title\">\n            <a href=\"#\" class=\"stretched-link style\"\n            @click.prevent=\"getProduct(item.id)\">{{ item.title }}</a>\n          </h3>\n          <div class=\"card-text d-flex justify-content-between align-items-center\">\n            <span class=\"text-dark text-decoration-line-through\">\n              ${{ $filters.currency(item.origin_price) }}</span>\n            <span class=\"text-danger fw-bold fs-5\">\n              ${{ $filters.currency(item.price) }}</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n    img {\n        height: 200px;\n    }\n    .style {\n    color: #181b46;\n    text-decoration:none;\n    &:hover {\n        color: #fd9735;\n        }\n      }\n    .card-body {\n        position: relative;\n    }\n</style>\n\n<script>\nexport default {\n  data() {\n    return {\n      products: [],\n      product: {},\n      filterProducts: [],\n      isLoading: false,\n      active: 'all',\n      type: [\n        { chtType: '全部', engType: 'all' },\n        { chtType: '飼料', engType: 'feed' },\n        { chtType: '罐頭', engType: 'canned' },\n        { chtType: '玩具', engType: 'toy' },\n      ],\n      selected: 'filterSort',\n      sort: [\n        { chtSort: '排序篩選', engSort: 'filterSort' },\n        { chtSort: '價格 : 低到高', engSort: 'lowPrice' },\n        { chtSort: '價格 : 高到低', engSort: 'highPrice' },\n      ],\n    };\n  },\n  watch: {\n    $route() {\n      this.$router.go(0);\n    },\n  },\n  methods: {\n    getShoppingProducts() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\n      return new Promise((resolve, reject) => {\n        this.isLoading = true;\n        this.$http.get(api)\n          .then((res) => {\n            this.isLoading = false;\n            if (res.data.success) {\n              this.products = res.data.products;\n              this.filterProducts = this.products;\n            }\n            resolve();\n          })\n          .catch((err) => {\n            this.isLoading = false;\n            this.$alert('sorry，目前服務不可用，請稍後再試或聯絡管理員。');\n            reject(err);\n          });\n      });\n    },\n    selectType(type) {\n      this.active = type;\n      if (type === 'all') {\n        this.filterProducts = this.products;\n      } else {\n        this.filterProducts = this.products.filter((item) => item.category === type);\n      }\n    },\n    getSort() {\n      if (this.selected === 'lowPrice') {\n        this.filterProducts.sort((a, b) => a.price - b.price);\n      } else if (this.selected === 'highPrice') {\n        this.filterProducts.sort((a, b) => b.price - a.price);\n      }\n    },\n    getSearchFilterProducts() {\n      const query = this.$route.query.search;\n      this.getShoppingProducts().then(() => {\n        if (query === '') {\n          this.$alert('欄位不可為空白');\n        } else {\n          this.active = '';\n          this.filterProducts = this.products.filter((item) => {\n            const titleResult = item.title.search(query);\n            if (titleResult === -1) {\n              return false;\n            }\n            return true;\n          });\n        }\n      });\n    },\n    getProduct(id) {\n      this.$router.push(`/user/product/${id}`);\n    },\n  },\n  created() {\n    if (this.$route.query.search === undefined) {\n      this.getShoppingProducts().then(() => {});\n    } else {\n      this.getSearchFilterProducts();\n    }\n  },\n};\n\n</script>\n","import { render } from \"./ShoppingList.vue?vue&type=template&id=07b0fd7e&scoped=true\"\nimport script from \"./ShoppingList.vue?vue&type=script&lang=js\"\nexport * from \"./ShoppingList.vue?vue&type=script&lang=js\"\n\nimport \"./ShoppingList.vue?vue&type=style&index=0&id=07b0fd7e&scoped=true&lang=scss\"\n\nimport exportComponent from \"D:\\\\Front End\\\\Vue\\\\e-commerce\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-07b0fd7e\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","_Fragment","_renderList","$data","item","key","active","engType","type","onClick","$options","chtType","_hoisted_3","_createVNode","_component_VLoading","$event","onChange","value","engSort","chtSort","_hoisted_5","id","src","imageUrl","alt","title","href","_hoisted_11","_toDisplayString","_ctx","currency","origin_price","price","data","products","product","filterProducts","isLoading","selected","sort","watch","$route","this","$router","go","methods","getShoppingProducts","api","Promise","resolve","reject","$http","get","then","res","success","catch","err","$alert","selectType","filter","category","getSort","a","b","getSearchFilterProducts","query","search","titleResult","getProduct","push","created","undefined","__exports__","render"],"sourceRoot":""}