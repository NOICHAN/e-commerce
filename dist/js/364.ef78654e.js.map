{"version":3,"file":"js/364.ef78654e.js","mappings":"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","sources":["webpack://e-commerce/./src/views/dashboard/ProductsView.vue","webpack://e-commerce/./src/components/ProductModal.vue","webpack://e-commerce/./src/components/ProductModal.vue?b0ff","webpack://e-commerce/./src/views/dashboard/ProductsView.vue?d2c6"],"sourcesContent":["<template>\n<VLoading :active=\"isLoading\"></VLoading>\n<div class=\"text-end\">\n  <button class=\"btn btn-outline-primary mt-2\" type=\"button\"\n  @click=\"openProductModal(true)\">新增產品</button>\n</div>\n  <table class=\"table mt-4\">\n  <thead>\n    <tr>\n      <th width=\"120\">分類</th>\n      <th>標題</th>\n      <th width=\"120\">原價</th>\n      <th width=\"120\">售價</th>\n      <th width=\"100\">是否啟用</th>\n      <th width=\"200\">編輯</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr v-for=\"item in products\" :key=\"item.id\">\n      <td>{{ item.category }}</td>\n      <td>{{ item.title }}</td>\n      <td class=\"text-right\">\n        {{ $filters.currency(item.origin_price) }}\n      </td>\n      <td class=\"text-right\">\n        {{ $filters.currency(item.price) }}\n      </td>\n      <td>\n        <span class=\"text-success\" v-if=\"item.is_enabled\">啟用</span>\n        <span class=\"text-muted\" v-else>未啟用</span>\n      </td>\n      <td>\n        <div class=\"btn-group\">\n          <button class=\"btn btn-outline-info btn-sm\"\n          @click=\"openProductModal(false, item)\">編輯</button>\n          <button class=\"btn btn-outline-danger btn-sm\"\n          @click=\"openDelProductModal(item)\">刪除</button>\n        </div>\n      </td>\n    </tr>\n  </tbody>\n</table>\n<Pagination :pages=\"pagination\" @emit-pages=\"getProducts\"></Pagination>\n\n<ProductModal :product=\"tempProduct\" ref=\"productModal\"\n@update-product=\"updateProduct\" ></ProductModal>\n\n<DelModal :item=\"tempProduct\" ref=\"delModal\" @del-item=\"delProduct\"></DelModal>\n</template>\n\n<script>\nimport ProductModal from '../../components/ProductModal.vue';\nimport DelModal from '../../components/DelModal.vue';\nimport Pagination from '../../components/PaginationComponent.vue';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      pagination: {},\n      tempProduct: {},\n      isNew: false,\n      isLoading: false,\n    };\n  },\n  components: {\n    ProductModal,\n    DelModal,\n    Pagination,\n  },\n  methods: {\n    getProducts(page = 1) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;\n      this.isLoading = true;\n      this.$http.get(api)\n        .then((res) => {\n          this.isLoading = false;\n          if (res.data.success) {\n            this.products = res.data.products;\n            this.pagination = res.data.pagination;\n          }\n        })\n        .catch(() => {\n          this.isLoading = false;\n          this.$alert('sorry，目前服務不可用，請稍後再試或聯絡管理員。');\n        });\n    },\n    openProductModal(isNew, item) {\n      if (isNew) {\n        this.tempProduct = {};\n      } else {\n        this.tempProduct = { ...item };\n      }\n      this.isNew = isNew;\n      const productComponent = this.$refs.productModal;\n      productComponent.showModal();\n    },\n    updateProduct(item) {\n      this.tempProduct = item;\n      const productComponent = this.$refs.productModal;\n      // 新增\n      if (this.isNew) {\n        const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;\n        const httpMethod = 'post';\n        this.$http[httpMethod](api, { data: this.tempProduct }).then(() => {\n          productComponent.hideModal();\n          this.getProducts();\n        }).catch(() => {\n          this.$alert('sorry，目前服務不可用，請稍後再試或聯絡管理員。');\n        });\n      }\n\n      // 編輯\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\n      const httpMethod = 'put';\n      this.$http[httpMethod](api, { data: this.tempProduct }).then(() => {\n        productComponent.hideModal();\n        this.getProducts(this.pagination.current_page);\n      }).catch(() => {\n        this.$alert('sorry，目前服務不可用，請稍後再試或聯絡管理員。');\n      });\n    },\n    openDelProductModal(item) {\n      this.tempProduct = { ...item };\n      const delComponent = this.$refs.delModal;\n      delComponent.showModal();\n    },\n    delProduct() {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`;\n      this.$http.delete(api)\n        .then(() => {\n          const delComponent = this.$refs.delModal;\n          delComponent.hideModal();\n          this.getProducts(this.pagination.current_page);\n        }).catch(() => {\n          this.$alert('sorry，目前服務不可用，請稍後再試或聯絡管理員。');\n        });\n    },\n  },\n  created() {\n    this.getProducts();\n  },\n};\n</script>\n","<template>\n  <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\"\n  aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\" role=\"dialog\">\n<v-form class=\"modal-dialog modal-xl\" role=\"document\" v-slot=\"{ errors }\"\n@submit=\"$emit('update-product',tempProduct)\">\n  <div class=\"modal-content border-0\">\n    <div class=\"modal-header bg-primary text-white\">\n      <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n        產品\n      </h5>\n      <button type=\"button\" class=\"btn-close\"\n              data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n    </div>\n    <div class=\"modal-body\">\n      <div class=\"row\">\n        <div class=\"col-sm-4\">\n          <div class=\"mb-3\">\n            <!-- eslint-disable-next-line vuejs-accessibility/label-has-for -->\n            <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\n            <input type=\"text\" class=\"form-control\" id=\"image\" v-model=\"tempProduct.imageUrl\"\n                    placeholder=\"請輸入圖片連結\">\n          </div>\n          <div class=\"mb-3\">\n              <!-- eslint-disable-next-line vuejs-accessibility/label-has-for -->\n            <label for=\"customFile\" class=\"form-label\">或 上傳圖片\n              <i class=\"fas fa-spinner fa-spin\"></i>\n            </label>\n            <input type=\"file\" id=\"customFile\" class=\"form-control\" ref=\"fileInput\"\n            @change=\"uploadFile\">\n          </div>\n          <img class=\"img-fluid\" :src=\"tempProduct.imageUrl\" alt=\"\">\n          <!-- 多圖 -->\n          <div class=\"mt-5\" v-if=\"tempProduct.imageUrl\">\n            <div class=\"mb-3 input-group\"\n            v-for=\"(image, key) in tempProduct.imagesUrl\" :key=\"key\">\n              <input type=\"url\" class=\"form-control form-control\"\n                      placeholder=\"請輸入連結\" v-model=\"tempProduct.imagesUrl[key]\">\n              <button type=\"button\" class=\"btn btn-outline-danger\"\n              @click=\"tempProduct.imagesUrl.splice(key, 1)\">\n                移除\n              </button>\n            </div>\n            <div>\n              <button class=\"btn btn-outline-primary btn-sm d-block w-100\"\n              type=\"button\" @click=\"tempProduct.imagesUrl.push('')\">\n                新增圖片\n              </button>\n            </div>\n          </div>\n        </div>\n        <div class=\"col-sm-8\">\n          <div class=\"mb-3\">\n              <!-- eslint-disable-next-line vuejs-accessibility/label-has-for -->\n            <label for=\"title\" class=\"form-label\">標題<span class=\"text-danger ms-1\">*</span></label>\n            <v-field type=\"text\" class=\"form-control\" id=\"title\"\n            name=\"標題\" rules=\"required\" :class=\"{ 'is-invalid': errors['標題'] }\"\n            placeholder=\"請輸入標題 (必填)\" v-model=\"tempProduct.title\"></v-field>\n        <error-message class=\"invalid-feedback\" name=\"標題\">\n          </error-message>\n          </div>\n\n          <div class=\"row gx-2\">\n            <div class=\"mb-3 col-md-6\">\n                <!-- eslint-disable-next-line vuejs-accessibility/label-has-for -->\n              <label for=\"category\" class=\"form-label\">分類\n                <span class=\"text-danger ms-1\">*</span></label>\n              <v-field type=\"text\" class=\"form-control\" id=\"category\"\n              name=\"分類\" rules=\"required\" :class=\"{ 'is-invalid': errors['分類'] }\"\n              v-model=\"tempProduct.category\"\n            placeholder=\"請輸入分類 (必填)\"></v-field>\n            <error-message class=\"invalid-feedback\" name=\"分類\">\n          </error-message>\n            </div>\n            <div class=\"mb-3 col-md-6\">\n                <!-- eslint-disable-next-line vuejs-accessibility/label-has-for -->\n              <label for=\"price\" class=\"form-label\">單位\n                  <span class=\"text-danger ms-1\">*</span></label>\n              <v-field type=\"text\" class=\"form-control\" id=\"unit\"\n              name=\"單位\" rules=\"required\" :class=\"{ 'is-invalid': errors['單位'] }\"\n              v-model=\"tempProduct.unit\"\n            placeholder=\"請輸入單位 (必填)\"></v-field>\n            <error-message class=\"invalid-feedback\" name=\"單位\">\n          </error-message>\n            </div>\n          </div>\n\n          <div class=\"row gx-2\">\n            <div class=\"mb-3 col-md-6\">\n                <!-- eslint-disable-next-line vuejs-accessibility/label-has-for -->\n              <label for=\"origin_price\" class=\"form-label\">原價\n                  <span class=\"text-danger ms-1\">*</span>\n              </label>\n              <v-field type=\"number\" class=\"form-control\" id=\"origin_price\"\n              name=\"原價\" rules=\"required\" :class=\"{ 'is-invalid': errors['原價'] }\"\n              v-model.number=\"tempProduct.origin_price\"\n            placeholder=\"請輸入原價 (必填)\"></v-field>\n            <error-message class=\"invalid-feedback\" name=\"原價\">\n          </error-message>\n            </div>\n            <div class=\"mb-3 col-md-6\">\n                <!-- eslint-disable-next-line vuejs-accessibility/label-has-for -->\n              <label for=\"price\" class=\"form-label\">售價\n                  <span class=\"text-danger ms-1\">*</span>\n              </label>\n              <v-field type=\"number\" class=\"form-control\" id=\"price\"\n              name=\"售價\" rules=\"required\" :class=\"{ 'is-invalid': errors['售價'] }\"\n              v-model.number=\"tempProduct.price\"\n            placeholder=\"請輸入售價 (必填)\"></v-field>\n            <error-message class=\"invalid-feedback\" name=\"售價\">\n          </error-message>\n            </div>\n          </div>\n          <hr>\n\n          <div class=\"mb-3\">\n              <!-- eslint-disable-next-line vuejs-accessibility/label-has-for -->\n            <label for=\"description\" class=\"form-label\">產品描述</label>\n            <textarea type=\"text\" class=\"form-control\" id=\"description\"\n            v-model=\"tempProduct.description\"\n            placeholder=\"請輸入產品描述\"></textarea>\n          </div>\n          <div class=\"mb-3\">\n              <!-- eslint-disable-next-line vuejs-accessibility/label-has-for -->\n            <label for=\"content\" class=\"form-label\">說明內容</label>\n            <textarea type=\"text\" class=\"form-control\" id=\"content\"\n            v-model=\"tempProduct.content\"\n            placeholder=\"請輸入產品說明內容\"></textarea>\n          </div>\n          <div class=\"mb-3\">\n            <div class=\"form-check\">\n              <input class=\"form-check-input\" type=\"checkbox\"\n              :true-value=\"1\" :false-value=\"0\"\n              id=\"is_enabled\" v-model=\"tempProduct.is_enabled\">\n                      <!-- eslint-disable-next-line vuejs-accessibility/label-has-for -->\n              <label class=\"form-check-label\" for=\"is_enabled\">\n                是否啟用\n              </label>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"modal-footer\">\n      <button type=\"button\" class=\"btn btn-outline-secondary\"\n              data-bs-dismiss=\"modal\">取消\n      </button>\n      <button type=\"submit\" class=\"btn btn-outline-primary\"\n       >確認</button>\n    </div>\n  </div>\n</v-form>\n</div>\n</template>\n\n<script>\nimport modalMixin from '@/mixins/modalMixin';\n\nexport default {\n  props: {\n    product: {\n      type: Object,\n      default() { return {}; },\n    },\n  },\n  watch: {\n    product() {\n      this.tempProduct = this.product;\n      if (!this.tempProduct.imagesUrl) {\n        this.tempProduct.imagesUrl = [];\n      }\n    },\n  },\n  data() {\n    return {\n      modal: {},\n      tempProduct: {},\n    };\n  },\n  mixins: [modalMixin],\n  methods: {\n    uploadFile() {\n      const uploadFile = this.$refs.fileInput.files[0];\n      const formData = new FormData();\n      formData.append('file-to-upload', uploadFile);\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;\n      this.$http.post(api, formData)\n        .then((res) => {\n          if (res.data.success) {\n            this.tempProduct.imageUrl = res.data.imageUrl;\n          } else {\n            this.$alert('上傳檔案格式錯誤或檔案過大，請選擇其它檔案並再次嘗試。');\n          }\n        })\n        .catch(() => {\n          this.$alert('sorry，目前服務不可用，請稍後再試或聯絡管理員。');\n        });\n    },\n  },\n};\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=739c327d\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Front End\\\\Vue\\\\e-commerce\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductsView.vue?vue&type=template&id=9cdc90c0\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"D:\\\\Front End\\\\Vue\\\\e-commerce\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","width","_createVNode","_component_VLoading","active","$data","type","onClick","$options","_hoisted_3","_createElementBlock","_Fragment","_renderList","item","key","id","_toDisplayString","category","title","_ctx","currency","origin_price","price","is_enabled","_hoisted_9","_hoisted_10","_component_Pagination","pages","onEmitPages","_component_ProductModal","product","ref","onUpdateProduct","_component_DelModal","onDelItem","tabindex","role","for","_component_v_form","onSubmit","errors","_hoisted_8","imageUrl","$event","placeholder","onChange","src","alt","imagesUrl","image","splice","_hoisted_14","push","_hoisted_17","_component_v_field","name","rules","_component_error_message","_hoisted_20","_hoisted_22","unit","_hoisted_25","number","_hoisted_27","_hoisted_28","_hoisted_30","description","_hoisted_32","content","_hoisted_35","_hoisted_36","props","Object","default","watch","this","tempProduct","data","modal","mixins","modalMixin","methods","uploadFile","$refs","fileInput","files","formData","FormData","append","api","$http","post","then","res","success","$alert","catch","__exports__","products","pagination","isNew","isLoading","components","ProductModal","DelModal","Pagination","getProducts","page","get","openProductModal","productComponent","productModal","showModal","updateProduct","httpMethod","hideModal","current_page","openDelProductModal","delComponent","delModal","delProduct","delete","created","render"],"sourceRoot":""}